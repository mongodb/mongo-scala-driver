<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="/mongo-scala-driver/2.6/img/favicon.png">

    <title>SSL</title>

    <link rel="stylesheet" href="/mongo-scala-driver/2.6/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.6/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.6/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.6/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.6/lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.6/lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.6/css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="/mongo-scala-driver/2.6/../">
        <img src="/mongo-scala-driver/2.6/img/logo-mongodb-header.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <a href="http://try.mongodb.org/" data-toggle="tooltip" data-placement="bottom" title="Try MongoDB in the browser">Try it Out</a>
  <a href="http://www.mongodb.org/downloads" data-toggle="tooltip" data-placement="bottom" title="Download MongoDB">Downloads</a>
  <a href="http://www.mongodb.org/get-involved" data-toggle="tooltip" data-placement="bottom" title="Get involved with MongoDB">Community</a>
  <a href="http://docs.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Documentation">Docs</a>
  <a href="http://blog.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Blog">Blog</a>
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/mongo-scala-driver/2.6">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="/mongo-scala-driver/2.6/../">MongoDB Scala Driver</a>
          <a class="version pull-right" href="/mongo-scala-driver/2.6">2.6</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
      
      
      
        
      
    
    
  
  


        
      
    
      
      
        
      
    
    
  


        
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/2.6/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/getting-started/quick-tour-primer/">
        <i class='fa'></i>
        Quick Tour Primer
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/getting-started/quick-tour-case-classes/">
        <i class='fa'></i>
        Quick Tour - case classes
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongo-scala-driver/2.6/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        













  




<li class="toctree-l2  current">
  <a href="/mongo-scala-driver/2.6/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.6/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.6/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.6/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/reference/gridfs/">
        <i class='fa'></i>
        GridFS
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/reference/observables/">
        <i class='fa'></i>
        Observables
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-scala-driver/2.6/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.6/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.6/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/2.6/bson/" class="">
      <i class='fa fa-th'></i>
      <span>BSON</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/bson/documents/">
        <i class='fa'></i>
        Documents
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/bson/macros/">
        <i class='fa fa-cog'></i>
        Macros
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/bson/extended-json/">
        <i class='fa'></i>
        Extended JSON
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/2.6/builders/" class="">
      <i class='fa fa-wrench'></i>
      <span>Builders</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/builders/filters/">
        <i class='fa'></i>
        Filters
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/builders/projections/">
        <i class='fa'></i>
        Projections
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/builders/sorts/">
        <i class='fa'></i>
        Sort Criteria  
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/builders/aggregation/">
        <i class='fa'></i>
        Aggregation
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/builders/updates/">
        <i class='fa'></i>
        Updates
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.6/builders/indexes/">
        <i class='fa'></i>
        Indexes
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.6/integrations/">
        <i class='fa fa-arrows-h'></i>
        Integrations
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.6/changelog/">
        <i class='fa fa-cog'></i>
        Changelog
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.6/upgrade/">
        <i class='fa fa-wrench'></i>
        Upgrading
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.6/scaladoc/">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.6/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-scala-driver/tree/master">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-scala-driver/blob/2.6.x/docs/reference/content/reference/connecting/ssl.md" target="_blank" title="Edit reference/connecting/ssl.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  <li><a href="/mongo-scala-driver/2.6/reference/">Reference</a> <i class="fa fa-angle-right"></i></li>
  <li><a href="/mongo-scala-driver/2.6/reference/connecting/">Connecting</a> <i class="fa fa-angle-right"></i></li>
  <li>SSL</li>
</ul>
</div>




<h2 id="ssl">SSL</h2>

<p>The Scala driver supports SSL connections to MongoDB servers using the underlying support for SSL provided by
<a href="http://netty .io/">Netty</a>. You can configure the driver to use SSL with <code>MongoClientSettings</code> by setting the sslEnabled property to true
and the stream factory to <a href="/mongo-scala-driver/2.6/scaladoc/org.mongodb.connection.NettyStreamFactoryFactory.html
"><code>NettyStreamFactoryFactory</code></a>, as in:</p>

<pre><code class="language-scala">import org.mongodb.scala.connection.NettyStreamFactoryFactory

MongoClientSettings.builder()
                   .streamFactoryFactory(NettyStreamFactoryFactory())
                   .applyToSslSettings(b =&gt; b.enabled(true))
                   .build()
</code></pre>

<p>See <a href="/mongo-scala-driver/2.6/reference/connecting/connection-settings/#netty-configuration">Netty Configuration</a> for details on
configuring Netty.</p>

<h3 id="host-name-verification">Host name verification</h3>

<p>By default, the driver ensures that the host name included in the server&rsquo;s SSL certificate(s) matches the host name(s) provided when
constructing a <code>MongoClient</code>.  However, this host name verification requires a Java 7 JVM, as it relies on additions to the
<code>javax.net.SSLParameters</code> class that were introduced in Java 7.  If your application must run on Java 6, or for some other reason you need
 to disable host name verification, you must expicitly indicate this in <code>SslSettings</code> using the <code>invalidHostNameAllowed</code> property:</p>

<pre><code class="language-scala">MongoClientSettings.builder()
                   .streamFactoryFactory(NettyStreamFactoryFactory())
                   .applyToSslSettings(b =&gt; b.enabled(true).invalidHostNameAllowed(true))
                   .build()
</code></pre>

<h3 id="jvm-system-properties">JVM system properties</h3>

<p>A typical application will need to set several JVM system properties to ensure that the client is able to validate the SSL certificate
presented by the server:</p>

<ul>
<li><code>javax.net.ssl.trustStore</code>: the path to a trust store containing the certificate of the signing authority</li>
<li><code>javax.net.ssl.trustStorePassword</code>: the password to access this trust store</li>
</ul>

<p>The trust store is typically created with the <a href="http://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html">keytool</a>
command line program provided as part of the JDK.  For example:</p>

<pre><code class="language-bash">    keytool -importcert -trustcacerts -file &lt;path to certificate authority file&gt; 
        -keystore &lt;path to trust store&gt; -storepass &lt;password&gt;
</code></pre>

<p>A typical application will also need to set several JVM system properties to ensure that the client presents an SSL certificate to the
MongoDB server:</p>

<ul>
<li><code>javax.net.ssl.keyStore</code>: the path to a key store containing the client&rsquo;s SSL certificates</li>
<li><code>javax.net.ssl.keyStorePassword</code>: the password to access this key store</li>
</ul>

<p>The key store is typically created with the <a href="http://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html">keytool</a> or the
<a href="https://www.openssl.org/docs/apps/openssl.html">openssl</a> command line program.</p>

<p>For more information on configuring a Java application for SSL, please refer to the<br />
<a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html">JSSE Reference Guide</a>.</p>

<h2 id="jvm-support-for-tls-v1-1-and-newer">JVM Support for TLS v1.1 and newer</h2>

<p>Industry best practices recommend, and some regulations require, the use of TLS 1.1 or newer. Though no application changes are required
for the driver to make use of the newest TLS protocols, Java runtime environments prior to Java 8 started to enable TLS 1.1 only in later
updates:</p>

<ul>
<li><p>Java 7</p>

<ul>
<li>Starting with
<a href="http://www.oracle.com/technetwork/java/javaseproducts/documentation/javase7supportreleasenotes-1601161.html#R170_131">Update 131</a>,
released October 8, 2016, TSL 1.1 and TLS 1.2 are enabled by default.</li>
<li>Starting with
<a href="http://www.oracle.com/technetwork/java/javaseproducts/documentation/javase7supportreleasenotes-1601161.html#R170_95">Update 95</a>,
released January 19, 2016, TLS 1.1 and TLS 1.2 can be enabled by applications via the <code>jdk.tls.client.protocols</code> system property.</li>
</ul></li>

<li><p>Java 6</p>

<ul>
<li>Starting with
<a href="http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html#R160_141">Update 141</a>, released on January 17, 2017,
TSL 1.1 and TLS 1.2 are enabled by default.</li>
<li>Starting with
<a href="http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html#6u115-b32">Update 115 b32</a>, released July 19, 2016,
TLS 1.1 and TLS 1.2 can be enabled by applications via the <code>jdk.tls.client.protocols</code> system property.</li>
</ul></li>
</ul>

<p>Note that these updates are only available from Oracle via its Java SE commercial support program.  Java 7 Update 131
is available via <a href="http://openjdk.java.net/install/">OpenJDK</a>.</p>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/mongo-scala-driver/2.6/reference/connecting/connection-settings/">
      <i class="fa fa-long-arrow-left"> </i> Connection Settings
  </a>
  </div>
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongo-scala-driver/2.6/reference/connecting/authenticating/">
    Authenticating <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#ssl">SSL</a>
<ul>
<li><a href="#host-name-verification">Host name verification</a></li>
<li><a href="#jvm-system-properties">JVM system properties</a></li>
</ul></li>
<li><a href="#jvm-support-for-tls-v1-1-and-newer">JVM Support for TLS v1.1 and newer</a></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/mongo-scala-driver/2.6",
   VERSION:     "2.6",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/js/jquery.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/lib/bootstrap.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/js/navbar.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/js/scripts.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.6/js/scala.js"></script>



<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-K75Z5Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K75Z5Q');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>

</body>
</html>

