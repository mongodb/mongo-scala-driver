<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="/mongo-scala-driver/2.0/img/favicon.png">

    <title>Quick Tour</title>

    <link rel="stylesheet" href="/mongo-scala-driver/2.0/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.0/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.0/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.0/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.0/lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.0/lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-scala-driver/2.0/css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="/mongo-scala-driver/2.0/../">
        <img src="/mongo-scala-driver/2.0/img/logo-mongodb-header.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <a href="http://try.mongodb.org/" data-toggle="tooltip" data-placement="bottom" title="Try MongoDB in the browser">Try it Out</a>
  <a href="http://www.mongodb.org/downloads" data-toggle="tooltip" data-placement="bottom" title="Download MongoDB">Downloads</a>
  <a href="http://www.mongodb.org/get-involved" data-toggle="tooltip" data-placement="bottom" title="Get involved with MongoDB">Community</a>
  <a href="http://docs.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Documentation">Docs</a>
  <a href="http://blog.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Blog">Blog</a>
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/mongo-scala-driver/2.0">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="/mongo-scala-driver/2.0/../">MongoDB Scala Driver</a>
          <a class="version pull-right" href="/mongo-scala-driver/2.0">2.0</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
  
  


        
      
    
      
      
        
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongo-scala-driver/2.0/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/getting-started/quick-tour-primer/">
        <i class='fa'></i>
        Quick Tour Primer
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/getting-started/quick-tour-case-classes/">
        <i class='fa'></i>
        Quick Tour - case classes
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/2.0/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-scala-driver/2.0/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.0/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.0/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.0/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/reference/gridfs/">
        <i class='fa'></i>
        GridFS
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/reference/observables/">
        <i class='fa'></i>
        Observables
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-scala-driver/2.0/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.0/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-scala-driver/2.0/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/2.0/bson/" class="">
      <i class='fa fa-th'></i>
      <span>BSON</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/bson/documents/">
        <i class='fa'></i>
        Documents
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/bson/macros/">
        <i class='fa fa-cog'></i>
        Macros
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/bson/extended-json/">
        <i class='fa'></i>
        Extended JSON
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-scala-driver/2.0/builders/" class="">
      <i class='fa fa-wrench'></i>
      <span>Builders</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/builders/filters/">
        <i class='fa'></i>
        Filters
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/builders/projections/">
        <i class='fa'></i>
        Projections
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/builders/sorts/">
        <i class='fa'></i>
        Sort Criteria  
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/builders/aggregation/">
        <i class='fa'></i>
        Aggregation
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/builders/updates/">
        <i class='fa'></i>
        Updates
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-scala-driver/2.0/builders/indexes/">
        <i class='fa'></i>
        Indexes
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.0/integrations/">
        <i class='fa fa-arrows-h'></i>
        Integrations
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.0/changelog/">
        <i class='fa fa-cog'></i>
        Changelog
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.0/upgrade/">
        <i class='fa fa-wrench'></i>
        Upgrading
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.0/scaladoc/">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-scala-driver/2.0/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-scala-driver/tree/master">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-scala-driver/blob/master/docs/reference/content/getting-started/quick-tour.md" target="_blank" title="Edit getting-started/quick-tour.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  
  <li><a href="/mongo-scala-driver/2.0/getting-started/">Getting Started</a> <i class="fa fa-angle-right"></i></li>
  <li>Quick Tour</li>
</ul>
</div>




<h1 id="quick-tour">Quick Tour</h1>

<p>The following code snippets come from the <code>QuickTour.scala</code> example code that can be found with the
<a href="https://github.com/mongodb/mongo-scala-driver/blob/master/examples/src/test/scala/tour/QuickTour.scala
">driver source</a>.</p>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>See the <a href="/mongo-scala-driver/2.0/getting-started/installation-guide/">installation guide</a>
for instructions on how to install the MongoDB Scala Driver.</p>

<p>This guide uses the <code>Helper</code> implicits as covered in the <a href="/mongo-scala-driver/2.0/getting-started/quick-tour-primer/">Quick Tour Primer</a>.</p>

</div>
</p>

<h2 id="make-a-connection">Make a Connection</h2>

<p>The following example shows multiple ways to connect to the database <code>mydb</code> on the local machine, using the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoClient$
"><code>MongoClient</code></a> companion object.</p>

<pre><code class="language-scala">// To directly connect to the default server localhost on port 27017
val mongoClient: MongoClient = MongoClient()

// Use a Connection String
val mongoClient: MongoClient = MongoClient(&quot;mongodb://localhost&quot;)

// or provide custom MongoClientSettings
val clusterSettings: ClusterSettings = ClusterSettings.builder().hosts(List(new ServerAddress(&quot;localhost&quot;)).asJava).build()
val settings: MongoClientSettings = MongoClientSettings.builder().clusterSettings(clusterSettings).build()
val mongoClient: MongoClient = MongoClient(settings)

val database: MongoDatabase = mongoClient.getDatabase(&quot;mydb&quot;)
</code></pre>

<p>At this point, the <code>database</code> object will be a connection to a MongoDB server for the specified database.</p>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>The API only returns implementations of <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.Observable"><code>Observable[T]</code></a> when network IO required for the
operation. For <code>getDatabase(&quot;mydb&quot;)</code> there is no network IO required. A <code>MongoDatabase</code> instance provides methods to interact with a database
but the database might not actually exist and will only be created on the insertion of data via some means; e.g. the creation of a
collection or the insertion of documents.</p>

</div>
</p>

<h3 id="mongoclient">MongoClient</h3>

<p>The <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoClient
"><code>MongoClient</code></a> instance actually represents a pool of connections
for a given MongoDB server deployment; you will only need one instance of class
<code>MongoClient</code> even with multiple concurrently executing asynchronous operations.</p>

<p><div class="admonition important">
<h5 class="admonition-title">important</h5>
<p>Typically you only create one <code>MongoClient</code> instance for a given database
cluster and use it across your application. When creating multiple instances:</p>

<ul>
<li>All resource usage limits (max connections, etc) apply per <code>MongoClient</code> instance</li>
<li>To dispose of an instance, make sure you call <code>MongoClient.close()</code> to clean up resources</li>
</ul>

</div>
</p>

<h2 id="get-a-collection">Get a Collection</h2>

<p>To get a collection to operate upon, specify the name of the collection to
the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoDatabase@getCollection[TResult](collectionName:String)(implicite:org.mongodb.scala.Helpers.DefaultsTo[TResult,org.mongodb.scala.collection.immutable.Document],implicitct:scala.reflect.ClassTag[TResult]):org.mongodb.scala.MongoCollection[TResult]
"><code>getCollection(String collectionName)</code></a>
method:</p>

<p>The following example gets the collection <code>test</code>:</p>

<pre><code class="language-scala">val collection: MongoCollection[Document] = database.getCollection(&quot;test&quot;);
</code></pre>

<h2 id="insert-a-document">Insert a Document</h2>

<p>Once you have the collection object, you can insert documents into the
collection. For example, consider the following JSON document; the document
contains a field <code>info</code> which is an embedded document:</p>

<pre><code class="language-javascript">{
   &quot;name&quot; : &quot;MongoDB&quot;,
   &quot;type&quot; : &quot;database&quot;,
   &quot;count&quot; : 1,
   &quot;info&quot; : {
               x : 203,
               y : 102
             }
}
</code></pre>

<p>To create the document using the Scala driver, use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.collection.immutable.Document
"><code>Document</code></a> class. You
can use this class to create the embedded document as well.</p>

<p><div class="admonition warning">
<h5 class="admonition-title">warning</h5>
<p>The Scala driver provides two document types - an immutable <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.collection.immutable.Document"><code>Document</code></a>
and a mutable <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.collection.mutable.Document"><code>Document</code></a>.</p>

<p>When using an immutable document then you should explicitly add an <code>_id</code> value, if you need to know that <code>_id</code> value in the future.</p>

<p>If an <code>_id</code> is not present on insertion then driver will add one automatically create one and pass it to the server, but that <code>_id</code> will not be
passed back to the user.</p>

</div>
</p>

<pre><code class="language-scala">val doc: Document = Document(&quot;_id&quot; -&gt; 0, &quot;name&quot; -&gt; &quot;MongoDB&quot;, &quot;type&quot; -&gt; &quot;database&quot;,
                             &quot;count&quot; -&gt; 1, &quot;info&quot; -&gt; Document(&quot;x&quot; -&gt; 203, &quot;y&quot; -&gt; 102))
</code></pre>

<p>To insert the document into the collection, use the <code>insertOne()</code> method.
Using the <code>results()</code> implicit we block until the observer is completed:</p>

<pre><code class="language-scala">collection.insertOne(doc).results();
</code></pre>

<p><div class="admonition important">
<h5 class="admonition-title">important</h5>
<p>In the API all methods returning a <code>Observables</code> are &ldquo;cold&rdquo; streams meaning that nothing happens until they are Subscribed to.</p>

<p>The example below does nothing:</p>

<pre><code class="language-scala">val observable: Observable&lt;Completed&gt; = collection.insertOne(doc)
</code></pre>

<p>Only when an <code>Observable</code> is subscribed to and data requested will the operation happen:</p>

<pre><code class="language-scala">// Explictly subscribe:
observable.insertOne(doc).subscribe(new Observer[Completed] {

  override def onNext(result: Completed): Unit = println(&quot;Inserted&quot;)

  override def onError(e: Throwable): Unit = println(&quot;Failed&quot;)

  override def onComplete(): Unit = println(&quot;Completed&quot;)
})
</code></pre>

<p>Once the document has been inserted the <code>onNext</code> method will be called and it will
print &ldquo;Inserted!&rdquo; followed by the <code>onCompleted</code> method which will print &ldquo;Completed&rdquo;. If there was an error for any reason the <code>onError</code>
method would print &ldquo;Failed&rdquo;.</p>

</div>
</p>

<h2 id="add-multiple-documents">Add Multiple Documents</h2>

<p>To add multiple documents, you can use the <code>insertMany()</code> method.</p>

<p>The following example will add multiple documents of the form:</p>

<pre><code class="language-javascript">{ &quot;i&quot; : value }
</code></pre>

<p>Create the documents in a loop.</p>

<pre><code class="language-scala">val documents = (1 to 100) map { i: Int =&gt; Document(&quot;i&quot; -&gt; i) }
</code></pre>

<p>To insert these documents to the collection, pass the list of documents to the
<code>insertMany()</code> method.</p>

<pre><code class="language-scala">val insertObservable = collection.insertMany(documents)
</code></pre>

<p>As we haven&rsquo;t subscribed yet no documents have been inserted, lets chain together two operations, inserting and counting.</p>

<h2 id="count-documents-in-a-collection">Count Documents in A Collection</h2>

<p>Once we&rsquo;ve inserted the <code>documents</code> list we should, have a total of 101 documents in the collection (the 100 we did in the loop, plus
the first one). We can check to see if we have them all using the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoCollection@count():org.mongodb.scala.Observable[Long]
">count()</a> method.</p>

<p>Lets chain the two operations together using a <a href="http://docs.scala-lang.org/tutorials/tour/sequence-comprehensions.html"><code>for</code></a> comprehension. The
following code should insert the documents then count the number of documents and print the results:</p>

<pre><code class="language-scala">val insertAndCount = for {
  insertResult &lt;- insertObservable
  countResult &lt;- collection.count()
} yield countResult

println(s&quot;total # of documents after inserting 100 small ones (should be 101):  ${insertAndCount.headResult()}&quot;)
</code></pre>

<h2 id="query-the-collection">Query the Collection</h2>

<p>Use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoCollection@find[C](filter:org.bson.conversions.Bson)(implicite:org.mongodb.scala.Helpers.DefaultsTo[C,org.mongodb.scala.collection.immutable.Document],implicitct:scala.reflect.ClassTag[C]):org.mongodb.scala.FindObservable[C]
">find()</a>
method to query the collection.</p>

<h3 id="find-the-first-document-in-a-collection">Find the First Document in a Collection</h3>

<p>To get the first document in the collection, call the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.FindObservable@first():org.mongodb.scala.Observable[TResult]
">first()</a>
method on the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.FindObservable
">FindObservable</a>
operation. <code>collection.find().first()</code> returns the first document or if no document is found the <code>Observable</code> just completes.
This is useful for queries that should only match a single document, or if you are interested in the first document only.</p>

<p>Using the <code>printHeadResult()</code> implicit we block until the observer is completed and then print the first result:</p>

<pre><code class="language-scala">collection.find().first().printHeadResult()
</code></pre>

<p>The example will print the following document:</p>

<pre><code class="language-json">{ &quot;_id&quot; : 0, &quot;name&quot; : &quot;MongoDB&quot;, &quot;type&quot; : &quot;database&quot;, &quot;count&quot; : 1, &quot;info&quot; : { &quot;x&quot; : 203, &quot;y&quot; : 102 } }
</code></pre>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>The <code>_id</code> of the document is &ldquo;0&rdquo; as we explicitly set one before we inserted this document.
MongoDB reserves field names that start with &ldquo;_&rdquo; and &ldquo;$&rdquo; for internal use.</p>

</div>
</p>

<h3 id="find-all-documents-in-a-collection">Find All Documents in a Collection</h3>

<p>To retrieve all the documents in the collection, we will use the
<code>find()</code> method. The <code>find()</code> method returns a <code>FindObservable</code> instance that
provides a fluent interface for chaining or controlling find operations.
The following code retrieves all documents in the collection and prints them out
(101 documents). Using the <code>printResults()</code> implicit we block until the observer is completed and then print each result:</p>

<pre><code class="language-scala">collection.find().printResults()
</code></pre>

<h2 id="get-a-single-document-with-a-query-filter">Get A Single Document with a Query Filter</h2>

<p>We can create a filter to pass to the find() method to get a subset of
the documents in our collection. For example, if we wanted to find the
document for which the value of the &ldquo;i&rdquo; field is 71, we would do the
following:</p>

<pre><code class="language-scala">import org.mongodb.scala.model.Filters._

collection.find(equal(&quot;i&quot;, 71)).first().printHeadResult()
</code></pre>

<p>will eventually print just one document:</p>

<pre><code class="language-json">{ &quot;_id&quot; : { &quot;$oid&quot; : &quot;5515836e58c7b4fbc756320b&quot; }, &quot;i&quot; : 71 }
</code></pre>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>Use the <a href="/mongo-scala-driver/2.0/builders/filters/"><code>Filters</code></a>, <a href="/mongo-scala-driver/2.0/builders/sorts/"><code>Sorts</code></a>,
<a href="/mongo-scala-driver/2.0/builders/projections/"><code>Projections</code></a> and <a href="/mongo-scala-driver/2.0/builders/updates/"><code>Updates</code></a>
helpers for simple and concise ways of building up queries.</p>

</div>
</p>

<h2 id="get-a-set-of-documents-with-a-query">Get a Set of Documents with a Query</h2>

<p>We can use the query to get a set of documents from our collection. For
example, if we wanted to get all documents where <code>&quot;i&quot; &gt; 50</code>, we could
write:</p>

<pre><code class="language-scala">collection.find(gt(&quot;i&quot;, 50)).printResults()
</code></pre>

<p>which should print the documents where <code>i &gt; 50</code>.</p>

<p>We could also get a range, say <code>50 &lt; i &lt;= 100</code>:</p>

<pre><code class="language-scala">collection.find(and(gt(&quot;i&quot;, 50), lte(&quot;i&quot;, 100))).printResults()
</code></pre>

<h2 id="sorting-documents">Sorting documents</h2>

<p>We can also use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.model.Sorts$
">Sorts</a> helpers to sort documents.
We add a sort to a find query by calling the <code>sort()</code> method on a <code>FindObservable</code>.  Below we use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.model.Filters$@exists(fieldName:String,exists:Boolean):org.bson.conversions.Bson
"><code>exists()</code></a> helper and use the sort
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.model.Sorts$@descending(fieldNames:String*):org.bson.conversions.Bson
"><code>descending(&quot;i&quot;)</code></a> helper to sort our documents:</p>

<pre><code class="language-scala">collection.find(exists(&quot;i&quot;)).sort(descending(&quot;i&quot;)).first().printHeadResult()
</code></pre>

<h2 id="projecting-fields">Projecting fields</h2>

<p>Sometimes we don&rsquo;t need all the data contained in a document. The <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.model.Projections$
">Projections</a>
helpers can be used to build the projection parameter for the find operation and limit the fields returned.<br />
Below we&rsquo;ll sort the collection, exclude the <code>_id</code> field and output the first matching document:</p>

<pre><code class="language-scala">collection.find().projection(excludeId()).first().printHeadResult()
</code></pre>

<h2 id="aggregations">Aggregations</h2>

<p>Sometimes we need to aggregate the data stored in MongoDB. The <a href="/mongo-scala-driver/2.0/builders/aggregation/"><code>Aggregates</code></a> helper provides
builders for each of type of aggregation stage.</p>

<p>Below we&rsquo;ll do a simple two step transformation that will calculate the value of <code>i * 10</code>. First we find all Documents
where <code>i &gt; 0</code> by using the <a href="/mongo-scala-driver/2.0/builders/aggregation/#filter"><code>Aggregates.filter</code></a>
helper. Then we reshape the document by using <a href="/mongo-scala-driver/2.0/builders/aggregation/#project"><code>Aggregates.project</code></a>
in conjunction with the <a href="http://docs.mongodb.org/manual/reference/operator/aggregation/multiply/
"><code>$multiply</code></a> operator to calculate the &ldquo;<code>ITimes10</code>&rdquo;
value:</p>

<pre><code class="language-scala">collection.aggregate(Seq(filter(gt(&quot;i&quot;, 0)),
  project(Document(&quot;&quot;&quot;{ITimes10: {$multiply: [&quot;$i&quot;, 10]}}&quot;&quot;&quot;)))
).printResults()
</code></pre>

<p>For <a href="/mongo-scala-driver/2.0/builders/aggregation/#group"><code>$group</code></a> operations use the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#com/mongodb/client/model/Accumulators
"><code>Accumulators</code></a> helper for any
<a href="http://docs.mongodb.org/manual/reference/operator/aggregation/group/#accumulator-operator
">accumulator operations</a>. Below we sum up all the values of
<code>i</code> by using the <a href="/mongo-scala-driver/2.0/builders/aggregation/#group"><code>Aggregates.group</code></a> helper in conjunction with the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#com/mongodb/client/model/Accumulators#sum-java.lang.String-TExpression-
"><code>Accumulators.sum</code></a> helper:</p>

<pre><code class="language-scala">collection.aggregate(singletonList(group(null, sum(&quot;total&quot;, &quot;$i&quot;)))).first(printDocument);
</code></pre>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>Currently, there are no helpers for <a href="http://docs.mongodb.org/manual/meta/aggregation-quick-reference/#aggregation-expressions">aggregation expressions</a>.
Use the <a href="/mongo-scala-driver/2.0/bson/extended-json/"><code>Document.parse()</code></a> helper to quickly build aggregation expressions from extended JSON.</p>

</div>
</p>

<h2 id="updating-documents">Updating documents</h2>

<p>There are numerous <a href="http://docs.mongodb.org/manual/reference/operator/update-field/">update operators</a>
supported by MongoDB.  We can use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.model.Updates$
">Updates</a> helpers to help update documents in the database.</p>

<p>To update at most a single document (may be 0 if none match the filter), use the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoCollection@updateOne(filter:org.bson.conversions.Bson,update:org.bson.conversions.Bson):org.mongodb.scala.Observable[org.mongodb.scala.result.UpdateResult]
"><code>updateOne</code></a>
method to specify the filter and the update document.  Here we update the first document that meets the filter <code>i</code> equals <code>10</code> and set the value of <code>i</code> to <code>110</code>:</p>

<pre><code class="language-scala">collection.updateOne(equal(&quot;i&quot;, 10), set(&quot;i&quot;, 110)).printHeadResult(&quot;Update Result: &quot;)
</code></pre>

<p>To update all documents matching the filter use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoCollection@updateMany(filter:org.bson.conversions.Bson,update:org.bson.conversions.Bson):org.mongodb.scala.Observable[org.mongodb.scala.result.UpdateResult]
"><code>updateMany</code></a>
method.  Here we increment the value of <code>i</code> by <code>100</code> where <code>i</code> is less than <code>100</code>.</p>

<pre><code class="language-scala">collection.updateMany(lt(&quot;i&quot;, 100), inc(&quot;i&quot;, 100)).printHeadResult(&quot;Update Result: &quot;)
</code></pre>

<p>The update methods return an <a href="http://api.mongodb.org/java/3.4/?com/mongodb/client/result/UpdateResult.html
"><code>UpdateResult</code></a>,
which provides information about the operation including the number of documents modified by the update.</p>

<h2 id="deleting-documents">Deleting documents</h2>

<p>To delete at most a single document (may be 0 if none match the filter) use the <a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoCollection@deleteOne(filter:org.bson.conversions.Bson):org.mongodb.scala.Observable[org.mongodb.scala.result.DeleteResult]
"><code>deleteOne</code></a>
method:</p>

<pre><code class="language-scala">collection.deleteOne(equal(&quot;i&quot;, 110)).printHeadResult(&quot;Delete Result: &quot;)
</code></pre>

<p>To delete all documents matching the filter use the
<a href="/mongo-scala-driver/2.0/scaladoc/index.html#org.mongodb.scala.MongoCollection@deleteMany(filter:org.bson.conversions.Bson):org.mongodb.scala.Observable[org.mongodb.scala.result.DeleteResult]
"><code>deleteMany</code></a>
method. Here we delete all documents where <code>i</code> is greater or equal to <code>100</code>:</p>

<pre><code class="language-scala">collection.deleteMany(gte(&quot;i&quot;, 100)).printHeadResult(&quot;Delete Result: &quot;)
</code></pre>

<p>The delete methods return a <a href="http://api.mongodb.org/java/3.4/?com/mongodb/client/result/DeleteResult.html
"><code>DeleteResult</code></a>,
which provides information about the operation including the number of documents deleted.</p>

<h2 id="bulk-operations">Bulk operations</h2>

<p>These commands allow for the execution of bulk
insert/update/delete operations. There are two types of bulk operations:</p>

<ol>
<li><p>Ordered bulk operations.</p>

<p>Executes all the operation in order and error out on the first write error.</p></li>

<li><p>Unordered bulk operations.</p>

<p>Executes all the operations and reports any the errors.</p>

<p>Unordered bulk operations do not guarantee order of execution.</p></li>
</ol>

<p>Let&rsquo;s look at two simple examples using ordered and unordered
operations:</p>

<pre><code class="language-scala">val writes: List[WriteModel[_ &lt;: Document]] = List(
      InsertOneModel(Document(&quot;_id&quot; -&gt; 4)),
      InsertOneModel(Document(&quot;_id&quot;-&gt; 5)),
      InsertOneModel(Document(&quot;_id&quot; -&gt; 6)),
      UpdateOneModel(Document(&quot;_id&quot; -&gt; 1), set(&quot;x&quot;, 2)),
      DeleteOneModel(Document(&quot;_id&quot; -&gt; 2)),
      ReplaceOneModel(Document(&quot;_id&quot; -&gt; 3), Document(&quot;_id&quot; -&gt; 3, &quot;x&quot; -&gt; 4))
    )

// 1. Ordered bulk operation - order is guaranteed
collection.bulkWrite(writes).printHeadResult(&quot;Bulk write results: &quot;)

// 2. Unordered bulk operation - no guarantee of order of operation
collection.bulkWrite(writes, BulkWriteOptions().ordered(false)).printHeadResult(&quot;Bulk write results (unordered): &quot;)
</code></pre>

<p><div class="admonition important">
<h5 class="admonition-title">important</h5>
<p>Use of the bulkWrite methods is not recommended when connected to pre-2.6 MongoDB servers, as this was the first server version to support
bulk write commands for insert, update, and delete in a way that allows the driver to implement the correct semantics for BulkWriteResult
and BulkWriteException. The methods will still work for pre-2.6 servers, but performance will suffer, as each write operation has to be
executed one at a time.</p>

</div>
</p>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/mongo-scala-driver/2.0/getting-started/quick-tour-primer/">
      <i class="fa fa-long-arrow-left"> </i> Quick Tour Primer
  </a>
  </div>
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongo-scala-driver/2.0/getting-started/quick-tour-case-classes/">
    Quick Tour - case classes <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li><a href="#quick-tour">Quick Tour</a>
<ul>
<li><a href="#make-a-connection">Make a Connection</a>
<ul>
<li><a href="#mongoclient">MongoClient</a></li>
</ul></li>
<li><a href="#get-a-collection">Get a Collection</a></li>
<li><a href="#insert-a-document">Insert a Document</a></li>
<li><a href="#add-multiple-documents">Add Multiple Documents</a></li>
<li><a href="#count-documents-in-a-collection">Count Documents in A Collection</a></li>
<li><a href="#query-the-collection">Query the Collection</a>
<ul>
<li><a href="#find-the-first-document-in-a-collection">Find the First Document in a Collection</a></li>
<li><a href="#find-all-documents-in-a-collection">Find All Documents in a Collection</a></li>
</ul></li>
<li><a href="#get-a-single-document-with-a-query-filter">Get A Single Document with a Query Filter</a></li>
<li><a href="#get-a-set-of-documents-with-a-query">Get a Set of Documents with a Query</a></li>
<li><a href="#sorting-documents">Sorting documents</a></li>
<li><a href="#projecting-fields">Projecting fields</a></li>
<li><a href="#aggregations">Aggregations</a></li>
<li><a href="#updating-documents">Updating documents</a></li>
<li><a href="#deleting-documents">Deleting documents</a></li>
<li><a href="#bulk-operations">Bulk operations</a></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/mongo-scala-driver/2.0",
   VERSION:     "2.0",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/js/jquery.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/lib/bootstrap.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/js/navbar.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/js/scripts.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="/mongo-scala-driver/2.0/js/scala.js"></script>



<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-K75Z5Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K75Z5Q');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>

</body>
</html>

